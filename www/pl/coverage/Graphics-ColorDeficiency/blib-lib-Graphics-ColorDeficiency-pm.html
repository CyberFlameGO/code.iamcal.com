<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.65
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/Graphics/ColorDeficiency.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/Graphics/ColorDeficiency.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c2">96.1%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package Graphics::ColorDeficiency;</td></tr>
<tr><td class="h">2</td><td colspan="6"></td></tr><tr><td class="h">3</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L3">4</a></div></td><td><div>28</div><div>13</div><div>45</div></td><td class="s">use Graphics::ColorObject;</td></tr>
<tr><td class="h">4</td><td><div class="c3">4</div><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L4">4</a></div></td><td><div>4835</div><div>68</div><div>47</div></td><td class="s">use Graphics::ColorDeficiency::Data;</td></tr>
<tr><td class="h">5</td><td colspan="6"></td></tr><tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td class="s">@ISA = (&#39;Graphics::ColorObject&#39;);</td></tr>
<tr><td class="h">7</td><td></td><td></td><td></td><td></td><td></td><td class="s">$VERSION = 0.05;</td></tr>
<tr><td class="h">8</td><td colspan="6"></td></tr><tr><td class="h">9</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub Clone {</td></tr>
<tr><td class="h">10</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L10">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self) = @_;</td></tr>
<tr><td class="h">11</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($r,$g,$b) = $self-&gt;asRGB;</td></tr>
<tr><td class="h">12</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Graphics::ColorDeficiency-&gt;newRGB($r, $g, $b);</td></tr>
<tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">14</td><td colspan="6"></td></tr><tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asProtanomaly {</td></tr>
<tr><td class="h">16</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L16">3</a></div></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $ratio) = @_;</td></tr>
<tr><td class="h">17</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L17">100</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ratio = 0.5 unless defined $ratio;</td></tr>
<tr><td class="h">18</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $temp = $self-&gt;asProtanopia;</td></tr>
<tr><td class="h">19</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;asMix($temp, $ratio);</td></tr>
<tr><td class="h">20</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">21</td><td colspan="6"></td></tr><tr><td class="h">22</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asDeuteranomaly {</td></tr>
<tr><td class="h">23</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L23">3</a></div></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $ratio) = @_;</td></tr>
<tr><td class="h">24</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L24">100</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ratio = 0.5 unless defined $ratio;</td></tr>
<tr><td class="h">25</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $temp = $self-&gt;asDeutanopia;</td></tr>
<tr><td class="h">26</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;asMix($temp, $ratio);</td></tr>
<tr><td class="h">27</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">28</td><td colspan="6"></td></tr><tr><td class="h">29</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asTritanomaly {</td></tr>
<tr><td class="h">30</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L30">3</a></div></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $ratio) = @_;</td></tr>
<tr><td class="h">31</td><td><div class="c3">3</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L31">100</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ratio = 0.5 unless defined $ratio;</td></tr>
<tr><td class="h">32</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $temp = $self-&gt;asTritanopia;</td></tr>
<tr><td class="h">33</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;asMix($temp, $ratio);</td></tr>
<tr><td class="h">34</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">35</td><td colspan="6"></td></tr><tr><td class="h">36</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asProtanopia {</td></tr>
<tr><td class="h">37</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L37">4</a></div></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return shift-&gt;asHash(0);</td></tr>
<tr><td class="h">38</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">39</td><td colspan="6"></td></tr><tr><td class="h">40</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asDeutanopia {</td></tr>
<tr><td class="h">41</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L41">4</a></div></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return shift-&gt;asHash(1);</td></tr>
<tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">43</td><td colspan="6"></td></tr><tr><td class="h">44</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asTritanopia {</td></tr>
<tr><td class="h">45</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L45">4</a></div></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return shift-&gt;asHash(2);</td></tr>
<tr><td class="h">46</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">47</td><td colspan="6"></td></tr><tr><td class="h">48</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asTypicalMonochrome {</td></tr>
<tr><td class="h">49</td><td><div class="c3">5</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L49">5</a></div></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self) = @_;</td></tr>
<tr><td class="h">50</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $val = $self-&gt;asGrey2;</td></tr>
<tr><td class="h">51</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($h1, $s1, $v1) = $self-&gt;asHSV;</td></tr>
<tr><td class="h">52</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $temp = Graphics::ColorObject-&gt;newRGB($val, $val, $val);</td></tr>
<tr><td class="h">53</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($h2, $s2, $v2) = $temp-&gt;asHSV;</td></tr>
<tr><td class="h">54</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$temp-&gt;setHSV($h2, $s2, ($v1+$v2)/2);</td></tr>
<tr><td class="h">55</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $temp;</td></tr>
<tr><td class="h">56</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">57</td><td colspan="6"></td></tr><tr><td class="h">58</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asAtypicalMonochrome {</td></tr>
<tr><td class="h">59</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L59">4</a></div></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $ratio) = @_;</td></tr>
<tr><td class="h">60</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L60">100</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ratio = 0.2 unless defined $ratio;</td></tr>
<tr><td class="h">61</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $temp = $self-&gt;asTypicalMonochrome;</td></tr>
<tr><td class="h">62</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;asMix($temp, 1 - $ratio);</td></tr>
<tr><td class="h">63</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">64</td><td colspan="6"></td></tr><tr><td class="h">65</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asHash {</td></tr>
<tr><td class="h">66</td><td><div class="c3">12</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L66">12</a></div></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $id) = @_;</td></tr>
<tr><td class="h">67</td><td colspan="6"></td></tr><tr><td class="h">68</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($r, $g, $b) = $self-&gt;asRGB();</td></tr>
<tr><td class="h">69</td><td colspan="6"></td></tr><tr><td class="h">70</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>42</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_r, $hi_r) = $self-&gt;getColorBounds($r);</td></tr>
<tr><td class="h">71</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_r_rat, $hi_r_rat) = $self-&gt;getMixRatios($r, $hi_r, $lo_r);</td></tr>
<tr><td class="h">72</td><td colspan="6"></td></tr><tr><td class="h">73</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_g, $hi_g) = $self-&gt;getColorBounds($g);</td></tr>
<tr><td class="h">74</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_g_rat, $hi_g_rat) = $self-&gt;getMixRatios($g, $hi_g, $lo_g);</td></tr>
<tr><td class="h">75</td><td colspan="6"></td></tr><tr><td class="h">76</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_b, $hi_b) = $self-&gt;getColorBounds($b);</td></tr>
<tr><td class="h">77</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>40</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo_b_rat, $hi_b_rat) = $self-&gt;getMixRatios($b, $hi_b, $lo_b);</td></tr>
<tr><td class="h">78</td><td colspan="6"></td></tr><tr><td class="h">79</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>47</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $lo_col = Graphics::ColorObject-&gt;newRGB($lo_r, $lo_g, $lo_b);</td></tr>
<tr><td class="h">80</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>50</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $hi_col = Graphics::ColorObject-&gt;newRGB($hi_r, $hi_g, $hi_b);</td></tr>
<tr><td class="h">81</td><td colspan="6"></td></tr><tr><td class="h">82</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>55</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $from_lo = $Graphics::ColorDeficiency::Data::HASH-&gt;{substr(lc $lo_col-&gt;asHex,1)}[$id];</td></tr>
<tr><td class="h">83</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>52</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $from_hi = $Graphics::ColorDeficiency::Data::HASH-&gt;{substr(lc $hi_col-&gt;asHex,1)}[$id];</td></tr>
<tr><td class="h">84</td><td colspan="6"></td></tr><tr><td class="h">85</td><td><div class="c3">12</div><div class="c3">36</div></td><td></td><td></td><td></td><td><div>58</div><div>123</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($f_l_r, $f_l_g, $f_l_b) = map{hex($_) / 255} ($from_lo =~ /../g);</td></tr>
<tr><td class="h">86</td><td><div class="c3">12</div><div class="c3">36</div></td><td></td><td></td><td></td><td><div>40</div><div>110</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($f_h_r, $f_h_g, $f_h_b) = map{hex($_) / 255} ($from_hi =~ /../g);</td></tr>
<tr><td class="h">87</td><td colspan="6"></td></tr><tr><td class="h">88</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $r_out = ($f_l_r * $lo_r_rat) + ($f_h_r * $hi_r_rat);</td></tr>
<tr><td class="h">89</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $g_out = ($f_l_g * $lo_g_rat) + ($f_h_g * $hi_g_rat);</td></tr>
<tr><td class="h">90</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $b_out = ($f_l_b * $lo_b_rat) + ($f_h_b * $hi_b_rat);</td></tr>
<tr><td class="h">91</td><td colspan="6"></td></tr><tr><td class="h">92</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>53</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Graphics::ColorObject-&gt;newRGB($r_out, $g_out, $b_out);</td></tr>
<tr><td class="h">93</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">94</td><td colspan="6"></td></tr><tr><td class="h">95</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub asMix {</td></tr>
<tr><td class="h">96</td><td><div class="c3">13</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L96">13</a></div></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $mix, $rat2) = @_;</td></tr>
<tr><td class="h">97</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rat1 = 1 - $rat2;</td></tr>
<tr><td class="h">98</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($r1, $g1, $b1) = $self-&gt;asRGB();</td></tr>
<tr><td class="h">99</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>46</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($r2, $g2, $b2) = $mix-&gt;asRGB();</td></tr>
<tr><td class="h">100</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>103</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Graphics::ColorDeficiency-&gt;newRGB( ($r1*$rat1)+($r2*$rat2), ($g1*$rat1)+($g2*$rat2), ($b1*$rat1)+($b2*$rat2) );</td></tr>
<tr><td class="h">101</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">102</td><td colspan="6"></td></tr><tr><td class="h">103</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub getColorBounds {</td></tr>
<tr><td class="h">104</td><td><div class="c3">36</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L104">36</a></div></td><td><div>99</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $val) = @_;</td></tr>
<tr><td class="h">105</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td><div>66</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$val *= 10;</td></tr>
<tr><td class="h">106</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td><div>88</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($lo, $hi) = (0, 10);</td></tr>
<tr><td class="h">107</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(my $i=0; $i&lt;=10; $i+=2){</td></tr>
<tr><td class="h">108</td><td><div class="c3">216</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L108">100</a></div></td><td></td><td></td><td><div>680</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$lo = $i if $val &gt;= $i;</td></tr>
<tr><td class="h">109</td><td><div class="c3">216</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L109">100</a></div></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--condition.html#L109">100</a></div></td><td></td><td><div>1646</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$hi = $i if $val &lt;= $i &amp;&amp; $i &lt; $hi;</td></tr>
<tr><td class="h">110</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td><div>69</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">111</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td><div>144</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($lo/10, $hi/10);</td></tr>
<tr><td class="h">112</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">113</td><td colspan="6"></td></tr><tr><td class="h">114</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub getMixRatios {</td></tr>
<tr><td class="h">115</td><td><div class="c3">36</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Graphics-ColorDeficiency-pm--subroutine.html#L115">36</a></div></td><td><div>106</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $val, $hi, $lo) = @_;</td></tr>
<tr><td class="h">116</td><td colspan="6"></td></tr><tr><td class="h">117</td><td><div class="c3">36</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Graphics-ColorDeficiency-pm--branch.html#L117">100</a></div></td><td></td><td></td><td><div>148</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (0.5, 0.5) if ($hi == $val);</td></tr>
<tr><td class="h">118</td><td colspan="6"></td></tr><tr><td class="h">119</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>34</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$r1 = ($val - $lo) / 0x33;</td></tr>
<tr><td class="h">120</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ($r1, 1-$r1);</td></tr>
<tr><td class="h">121</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">122</td><td colspan="6"></td></tr><tr><td class="h">123 - 210</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

Graphics::ColorDeficiency - Color Deficiency Simulation

=head1 SYNOPSIS

  use Graphics::ColorDeficiency;

  my $col = Graphics::ColorDeficiency-&gt;newRGB(0.5, 0.7, 1);

  my $col2 = $col-&gt;asProtanopia;

  print $col2-&gt;asHex;

=head1 DESCRIPTION

This module allows easy transformation of colors for color deficiency
simulation. All the known and theorhetical color deficiencies are
represented here, with the exception of 4-cone vision (tetrachromatism).

Each of the transformation methods returns a C&lt;Graphics::ColorObject&gt; object,
with the internal color values set. This can then be used to return the 
color in many different formats (see the C&lt;Graphics::ColorObject&gt; manpage).

=head1 METHODS

=over 4

=item C&lt;asProtanopia()&gt;

=item C&lt;asDeutanopia()&gt;

=item C&lt;asTritanopia()&gt;

The three dichromat methods return a C&lt;Graphics::ColorObject&gt; object,
simulated for the three dichromatic vision modes.

=item C&lt;asProtanomaly( $amount )&gt;

=item C&lt;asDeuteranomaly( $amount )&gt;

=item C&lt;asTritanomaly( $amount )&gt;

The three anomalous trichromat methods return a C&lt;Graphics::ColorObject&gt; object,
simulated for the three anomalous trichromatic vision modes. The optional
C&lt;$amount&gt; agrument allows you to specify the severity of anomaly, ranging
from 0 (trichromatic) to 1 (dichromatic). If not specified, it defaults to
0.5.

=item C&lt;asTypicalMonochrome()&gt;

Returns a C&lt;Graphics::ColorObject&gt; object in Typical Monochromatic (Rod
Monochromat) mode.

=item C&lt;asAtypicalMonochrome( $amount )&gt;

Returns a C&lt;Graphics::ColorObject&gt; object in Atypical Monochromatic (Cone 
Monochromat) mode. The amount specified in C&lt;$amount&gt; can vary between 1
(trichromatic) and 0 (monochromatic). The default is 0.2 (four fifths gray).

=item C&lt;Clone()&gt;

Clones the current object, returning a C&lt;Graphics::ColorDeficiency&gt; object
with the same color values as the current object.

=item C&lt;asMix( $color, $amount )&gt;

Returns a new C&lt;Graphics::ColorDeficiency&gt;, consisting of the current color
values, mixed with the values of the C&lt;$color&gt; object. C&lt;$amount&gt; specifies
the amount of the new color to mix in, from 0 (which is equal to 
C&lt;$self.Clone()&gt;), up to 1 (which is equal to C&lt;$color.Clone()&gt;). The mix
is a linear RGB interpolation.

This method is used internally.

=back

=head1 AUTHOR

Copyright (C) 2003 Cal Henderson &lt;cal@iamcal.com&gt;

=head1 SEE ALSO

L&lt;Graphics::ColorObject&gt;

L&lt;http://www.iamcal.com/toys/colors/&gt;

=cut</pre></td></tr>
</table>
</body>
</html>
